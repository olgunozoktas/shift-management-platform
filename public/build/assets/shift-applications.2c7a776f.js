import"./bootstrap.32611946.js";import{c as x,j as t,r as c,a as s,F as y,I as f}from"./jsx-runtime.5cafaefb.js";import{P as u}from"./pagination.8026c58a.js";function b(){var i;const[r,h]=c.exports.useState([]),[l,o]=c.exports.useState([]);c.exports.useEffect(()=>{p()},[]);function p(){axios.get("/my-companies").then(e=>{h(e.data),n(e.data[0].id)}).catch(e=>{console.log(e)})}function n(e){axios.get("/shift-applications/"+e).then(a=>{o(a.data)}).catch(a=>{console.log(a)})}function m(e=null){e!=null&&axios.get(e).then(a=>{o(a.data)}).catch(a=>{console.log(a)})}const g=e=>{n(e)};return s(y,{children:[t(f,{position:"top-right",reverseOrder:!1,gutter:8,containerClassName:"",containerStyle:{}}),s("section",{className:"relative overflow-x-auto mt-4",children:[r.length>0?s("div",{className:"flex flex-col gap-2 w-max",children:[t("label",{htmlFor:"company",children:"Select Company To List Available Shifts"}),t("select",{name:"company",id:"company",onChange:e=>g(e.target.value),className:"rounded-lg cursor-pointer",children:r.map(e=>t("option",{value:e.id,children:e.name},e.id))})]}):null,s("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 mt-6 shadow-md sm:rounded-lg",id:"table",children:[t("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:s("tr",{className:"text-center bg-gray-100",children:[t("th",{scope:"col",className:"px-6 py-3",children:"User"}),t("th",{scope:"col",className:"px-6 py-3",children:"Job Role"}),t("th",{scope:"col",className:"px-6 py-3",children:"Type"}),t("th",{scope:"col",className:"px-6 py-3",children:"Date"}),t("th",{scope:"col",className:"px-6 py-3",children:"Description"}),t("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),t("tbody",{children:((i=l==null?void 0:l.data)==null?void 0:i.length)>0?l.data.map(e=>{var a;return s("tr",{className:"text-center bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[t("th",{scope:"row",className:"w-1/4 px-6 py-4 font-medium text-gray-900 dark:text-white",children:e.user.name}),t("td",{className:"py-2",children:e.shift.job_role.definition}),t("td",{className:"py-2",children:e.shift.type}),t("td",{className:"py-2",children:e.shift.date_time}),t("td",{className:"py-2",children:(a=e.shift.text)!=null?a:"-"}),t("td",{className:"flex flex-row items-center justify-center gap-2 py-2",children:t("a",{href:"/shift-applications/"+e.id+"/details",className:"py-2 px-4 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg",children:"View Details"})})]},e.id)}):t("tr",{className:"text-center bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:t("td",{colSpan:"5",className:"py-4",children:"No Available Shifts Found For Selected Company"})})})]}),t(u,{data:l,clickHandler:m})]})]})}let d=document.getElementById("shift-applications");d&&x(d).render(t(b,{}));

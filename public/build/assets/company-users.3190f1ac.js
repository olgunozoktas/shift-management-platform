import"./bootstrap.32611946.js";import{c as x,j as a,r as c,F as u,a as l}from"./jsx-runtime.5cafaefb.js";import{P as N}from"./pagination.8026c58a.js";function b(){var d;const[s,p]=c.exports.useState([]),[o,n]=c.exports.useState([]);c.exports.useEffect(()=>{h()},[]);function h(){axios.get("/my-companies").then(e=>{p(e.data),r(e.data[0].id)}).catch(e=>{console.log(e)})}function r(e){axios.get("/company-users/"+e).then(t=>{n(t.data)}).catch(t=>{console.log(t)})}function g(e=null){e!=null&&axios.get(e).then(t=>{n(t.data)}).catch(t=>{console.log(t)})}const y=e=>{r(e)};return a(u,{children:l("section",{className:"relative overflow-x-auto mt-4",children:[s.length>0?l("div",{className:"flex flex-col gap-2 w-max",children:[a("label",{htmlFor:"company",children:"Select Company To List Shifts"}),a("select",{name:"company",id:"company",onChange:e=>y(e.target.value),className:"rounded-lg",children:s.map(e=>a("option",{value:e.id,children:e.name},e.id))})]}):null,l("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 mt-6 shadow-md sm:rounded-lg",id:"table",children:[a("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:l("tr",{className:"text-center bg-gray-100",children:[a("th",{scope:"col",className:"px-6 py-3",children:"Name"}),a("th",{scope:"col",className:"px-6 py-3",children:"Email Address"}),a("th",{scope:"col",className:"px-6 py-3",children:"Phone No"}),a("th",{scope:"col",className:"px-6 py-3",children:"Role"}),a("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),a("tbody",{children:((d=o==null?void 0:o.data)==null?void 0:d.length)>0?o.data.map(e=>{var t,i;return l("tr",{className:"text-center bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[a("th",{scope:"row",className:"w-1/4 px-6 py-4 font-medium text-gray-900 dark:text-white",children:e.name}),a("td",{className:"py-2",children:e.email}),a("td",{className:"py-2",children:(t=e.company_phone)!=null?t:"-"}),a("td",{className:"py-2",children:(i=e.role)!=null?i:"-"}),a("td",{className:"flex flex-row items-center justify-center gap-2 py-2",children:a("a",{href:"/company-users/"+e.id+"/edit",className:"py-2 px-4 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg",children:"Edit"})})]},e.id)}):a("tr",{className:"text-center bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:a("td",{colSpan:"5",className:"py-4",children:"No Users Found In Your Company"})})})]}),a(N,{data:o,clickHandler:g})]})})}let m=document.getElementById("company-users");m&&x(m).render(a(b,{}));

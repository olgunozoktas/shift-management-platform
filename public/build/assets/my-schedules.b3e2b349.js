import"./bootstrap.32611946.js";import{c as y,j as a,r as o,F as x,a as l}from"./jsx-runtime.5cafaefb.js";import{P as u}from"./pagination.8026c58a.js";function b(){var d;const[r,m]=o.exports.useState([]),[c,s]=o.exports.useState([]);o.exports.useEffect(()=>{h()},[]);function h(){axios.get("/my-companies").then(e=>{m(e.data),n(e.data[0].id)}).catch(e=>{console.log(e)})}function n(e){axios.get("/my-schedules/"+e).then(t=>{s(t.data)}).catch(t=>{console.log(t)})}function p(e=null){e!=null&&axios.get(e).then(t=>{s(t.data)}).catch(t=>{console.log(t)})}const g=e=>{n(e)};return a(x,{children:l("section",{className:"relative overflow-x-auto mt-4",children:[r.length>0?l("div",{className:"flex flex-col gap-2 w-max",children:[a("label",{htmlFor:"company",children:"Select Company To List Schedules"}),a("select",{name:"company",id:"company",onChange:e=>g(e.target.value),className:"rounded-lg cursor-pointer",children:r.map(e=>a("option",{value:e.id,children:e.name},e.id))})]}):null,l("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 mt-6 shadow-md sm:rounded-lg",id:"table",children:[a("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:l("tr",{className:"text-center bg-gray-100",children:[a("th",{scope:"col",className:"px-6 py-3",children:"Job Role"}),a("th",{scope:"col",className:"px-6 py-3",children:"Schedule Type"}),a("th",{scope:"col",className:"px-6 py-3",children:"Date"}),a("th",{scope:"col",className:"px-6 py-3",children:"Description"})]})}),a("tbody",{children:((d=c==null?void 0:c.data)==null?void 0:d.length)>0?c.data.map(e=>{var t;return l("tr",{className:"text-center bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[a("th",{scope:"row",className:"w-1/4 px-6 py-4 font-medium text-gray-900 dark:text-white",children:e.job_role}),a("td",{className:"py-2",children:e.type}),a("td",{className:"py-2",children:e.date_time}),a("td",{className:"py-2",children:(t=e.text)!=null?t:"-"})]},e.id)}):a("tr",{className:"text-center bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:a("td",{colSpan:"5",className:"py-4",children:"No Schedules Found For Selected Company"})})})]}),a(u,{data:c,clickHandler:p})]})})}let i=document.getElementById("my-schedules");i&&y(i).render(a(b,{}));

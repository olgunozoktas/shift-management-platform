import"./bootstrap.32611946.js";import{c as y,j as a,r as c,F as u,a as s}from"./jsx-runtime.5cafaefb.js";import{P as f}from"./pagination.8026c58a.js";function b(){var d;const[r,h]=c.exports.useState([]),[l,o]=c.exports.useState([]);c.exports.useEffect(()=>{p()},[]);function p(){axios.get("/my-companies").then(e=>{h(e.data),n(e.data[0].id)}).catch(e=>{console.log(e)})}function n(e){axios.get("/api/v1/shifts/"+e+"/list").then(t=>{o(t.data)}).catch(t=>{console.log(t)})}function g(e=null){e!=null&&axios.get(e).then(t=>{o(t.data)}).catch(t=>{console.log(t)})}const x=e=>{n(e)};return a(u,{children:s("section",{className:"relative overflow-x-auto mt-4",children:[r.length>0?s("div",{className:"flex flex-col gap-2 w-max",children:[a("label",{htmlFor:"company",children:"Select Company To List Shifts"}),a("select",{name:"company",id:"company",onChange:e=>x(e.target.value),className:"rounded-lg",children:r.map(e=>a("option",{value:e.id,children:e.name},e.id))})]}):null,s("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 mt-6 shadow-md sm:rounded-lg",id:"table",children:[a("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:s("tr",{className:"text-center bg-gray-100",children:[a("th",{scope:"col",className:"px-6 py-3",children:"Date & Time"}),a("th",{scope:"col",className:"px-6 py-3",children:"Type"}),a("th",{scope:"col",className:"px-6 py-3",children:"Job Role"}),a("th",{scope:"col",className:"px-6 py-3",children:"Assigned User"}),a("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),a("tbody",{children:((d=l==null?void 0:l.data)==null?void 0:d.length)>0?l.data.map(e=>{var t,i;return s("tr",{className:"text-center bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[a("th",{scope:"row",className:"w-1/4 px-6 py-4 font-medium text-gray-900 dark:text-white",children:e.date_time}),a("td",{className:"py-2",children:e.type}),a("td",{className:"py-2",children:e.job_role.definition}),a("td",{className:"py-2",children:(i=(t=e.assigned_user)==null?void 0:t.name)!=null?i:"-"}),a("td",{className:"flex flex-row items-center justify-center gap-2 py-2",children:a("a",{href:"/shifts/"+e.id+"/edit",className:"py-2 px-4 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg",children:"Edit"})})]},e.id)}):a("tr",{className:"text-center bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:a("td",{colSpan:"5",className:"py-4",children:"No Shifts Found In Selected Company"})})})]}),a(f,{data:l,clickHandler:g})]})})}let m=document.getElementById("shifts");m&&y(m).render(a(b,{}));
